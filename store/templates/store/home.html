{% extends 'store/base.html' %}
{% load static %}

{% block content %}

<!-- HERO SECTION -->
<section class="hero-section py-5 bg-white">
  <div class="container py-lg-5">
    <div class="row align-items-center g-5">
      <div class="col-lg-6 order-lg-1 order-2">
        <div class="pe-lg-5">
          <span class="d-inline-block py-1 px-3 rounded-pill bg-primary bg-opacity-10 text-primary fw-bold small mb-3">
            <i class="fa-solid fa-check-circle me-1"></i> Certified Online Pharmacy
          </span>
          <h1 class="display-4 fw-bold text-dark mb-4 lh-sm">Healthcare Made <span class="text-primary">Simple</span> &
            <span class="text-primary">Accessible</span>
          </h1>
          <p class="lead text-muted mb-5">Order genuine medicines, supplements, and healthcare products from the comfort
            of your home. Fast delivery, best prices.</p>

          <div class="d-flex flex-column flex-sm-row gap-3">
            <a href="#featured" class="btn btn-primary btn-lg px-5 py-3 rounded-3 fw-semibold shadow-sm transition-all">
              Shop Medicines
            </a>

            <!-- Upload Prescription Form -->
            <form action="{% url 'store_upload_prescription' %}" method="post" enctype="multipart/form-data"
              class="d-inline-block">
              {% csrf_token %}
              <label
                class="btn btn-outline-dark btn-lg px-4 py-3 rounded-3 fw-semibold w-100 cursor-pointer transition-all">
                <i class="fa-solid fa-file-upload me-2"></i> Upload Prescription
                <input type="file" name="prescription" class="d-none" accept=".txt,.jpg,.jpeg,.png,.pdf"
                  onchange="this.form.submit()">
              </label>
            </form>
          </div>
          <p class="small text-muted mt-3"><i class="fa-solid fa-info-circle me-1"></i> Upload .txt, .jpg, or .pdf to
            order quickly.</p>
        </div>
      </div>
      <div class="col-lg-6 order-lg-2 order-1">
        <div class="position-relative">
          <div class="bg-primary bg-opacity-10 rounded-circle position-absolute top-50 start-50 translate-middle z-0"
            style="width: 120%; height: 120%;"></div>
          <img src="{% static 'images/hero-bg.jpg' %}" alt="Healthcare"
            class="img-fluid rounded-4 shadow-lg position-relative z-1"
            onerror="this.src='https://placehold.co/600x400/e2e8f0/1e293b?text=Healthcare+Essentials'">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FEATURES SECTION -->
<section class="py-5 bg-light">
  <div class="container py-4">
    <div class="row g-4 justify-content-center">
      <div class="col-md-4">
        <div class="d-flex align-items-start p-4 bg-white rounded-4 shadow-sm h-100 transition-hover">
          <div class="flex-shrink-0 bg-primary bg-opacity-10 text-primary rounded-3 p-3 me-3">
            <i class="fa-solid fa-truck-fast fa-xl"></i>
          </div>
          <div>
            <h5 class="fw-bold mb-2">Express Delivery</h5>
            <p class="text-muted small mb-0">Get your medicines delivered to your doorstep within 24 hours in select
              cities.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="d-flex align-items-start p-4 bg-white rounded-4 shadow-sm h-100 transition-hover">
          <div class="flex-shrink-0 bg-success bg-opacity-10 text-success rounded-3 p-3 me-3">
            <i class="fa-solid fa-certificate fa-xl"></i>
          </div>
          <div>
            <h5 class="fw-bold mb-2">100% Genuine</h5>
            <p class="text-muted small mb-0">All products are sourced directly from authorized manufacturers and
              distributors.</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="d-flex align-items-start p-4 bg-white rounded-4 shadow-sm h-100 transition-hover">
          <div class="flex-shrink-0 bg-info bg-opacity-10 text-info rounded-3 p-3 me-3">
            <i class="fa-solid fa-user-md fa-xl"></i>
          </div>
          <div>
            <h5 class="fw-bold mb-2">Expert Advice</h5>
            <p class="text-muted small mb-0">Free consultation with our qualified pharmacists for all your medication
              queries.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FEATURED MEDICINES -->
<section id="featured" class="py-5">
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-5">
      <div>
        <h2 class="fw-bold mb-1">Featured Products</h2>
        <p class="text-muted mb-0">Handpicked wellness essentials for you</p>
      </div>
      <a href="{% url 'product_list' %}" class="btn btn-outline-primary rounded-pill px-4">View All</a>
    </div>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
      {% for med in featured %}
      <div class="col">
        <div class="card h-100 border-0 shadow-sm rounded-4 overflow-hidden product-card">
          <div class="position-relative bg-light p-4 text-center product-img-wrapper">
            {% if med.image %}
            <img src="{{ med.image.url }}" class="img-fluid" alt="{{ med.name }}"
              style="height: 160px; object-fit: contain;">
            {% else %}
            <img src="{% static 'images/sample_medicine.jpg' %}" class="img-fluid" alt="Sample Medicine"
              style="height: 160px; object-fit: contain;">
            {% endif %}
            <div class="product-action position-absolute top-50 start-50 translate-middle d-flex gap-2 opacity-0">
              <a href="{% url 'product_detail' med.id %}" class="btn btn-light rounded-circle shadow-sm"
                title="View Details"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
          <div class="card-body p-3 d-flex flex-column">
            <div class="mb-1 text-muted small">{{ med.category }}</div>
            <h6 class="card-title fw-bold text-dark mb-2 text-truncate">{{ med.name }}</h6>
            <div class="mt-auto d-flex align-items-center justify-content-between">
              <span class="fw-bold text-primary">${{ med.price }}</span>
              <form class="add-ajax-form" action="{% url 'add_to_cart_ajax' med.id %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="quantity" value="1">
                <button type="submit" class="btn btn-sm btn-primary rounded-pill px-3">
                  Add <i class="fa-solid fa-plus ms-1"></i>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <p class="text-muted">No featured products available.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- NEW ARRIVALS -->
<section class="py-5 bg-light">
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-5">
      <div>
        <h2 class="fw-bold mb-1">New Arrivals</h2>
        <p class="text-muted mb-0">Latest additions to our store</p>
      </div>
    </div>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
      {% for med in new_arrivals %}
      <div class="col">
        <div class="card h-100 border-0 shadow-sm rounded-4 overflow-hidden product-card">
          <div class="position-relative bg-white p-4 text-center product-img-wrapper">
            <span class="badge bg-success position-absolute top-0 start-0 m-3 shadow-sm">New</span>
            {% if med.image %}
            <img src="{{ med.image.url }}" class="img-fluid" alt="{{ med.name }}"
              style="height: 160px; object-fit: contain;">
            {% else %}
            <img src="{% static 'images/sample_medicine.jpg' %}" class="img-fluid" alt="Sample Medicine"
              style="height: 160px; object-fit: contain;">
            {% endif %}
            <div class="product-action position-absolute top-50 start-50 translate-middle d-flex gap-2 opacity-0">
              <a href="{% url 'product_detail' med.id %}" class="btn btn-light rounded-circle shadow-sm"
                title="View Details"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
          <div class="card-body p-3 d-flex flex-column bg-white">
            <div class="mb-1 text-muted small">{{ med.category }}</div>
            <h6 class="card-title fw-bold text-dark mb-2 text-truncate">{{ med.name }}</h6>
            <div class="mt-auto d-flex align-items-center justify-content-between">
              <span class="fw-bold text-primary">${{ med.price }}</span>
              <form class="add-ajax-form" action="{% url 'add_to_cart_ajax' med.id %}" method="post">
                {% csrf_token %}
                <input type="hidden" name="quantity" value="1">
                <button type="submit" class="btn btn-sm btn-outline-primary rounded-pill px-3">
                  Add <i class="fa-solid fa-plus ms-1"></i>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <p class="text-muted">No new arrivals.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<<<<<<< HEAD
{% endblock %}
=======
<!-- PHARMACY CHATBOT WIDGET -->
{% include 'chatbot/chatbot_widget.html' %}

{% endblock %}
>>>>>>> 162ff70068bcbd1fa93dc23272e3014757d88885
